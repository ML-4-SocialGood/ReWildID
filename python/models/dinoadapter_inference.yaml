DATALOADER:
  TRAIN:
    BATCH_SIZE: 256
    NUM_INSTANCES: 64
    SAMPLER: "RandomIdentitySampler"
  TEST:
    BATCH_SIZE: 64
  NUM_WORKERS: 8

INPUT:
  # Align with DinoAdapter test-time settings
  SIZE: (256, 256)
  INTERPOLATION: "bicubic"
  PIXEL_MEAN: [0.485, 0.456, 0.406]
  PIXEL_STD: [0.229, 0.224, 0.225]
  # Ensure Normalize is applied at test time
  TRANSFORMS: ["normalize"]

OPTIM:
  NAME: "adamw"
  LR: 0.001
  MAX_EPOCH: 25
  LR_SCHEDULER: "Cosine"
  WARMUP_EPOCH: 1
  WARMUP_TYPE: "constant"
  WARMUP_CONS_LR: 1e-5
  WEIGHT_DECAY: 0.01

TRAIN:
  PRINT_FREQ: 100

MODEL:
  NAME: DinoAdapterInference
  METRIC_LOSS_TYPE: "triplet"
  NO_MARGIN: False
  IF_LABELSMOOTH: "on"
  ID_LOSS_WEIGHT: 1.0
  Day_Night_Adapter: True
  DinoAdapterInference:
    BACKBONE: "dinov3_vith16plus"
    REPO: "/home/clou785/VIGIL-ReID/trainer/models/dinov3"
    WEIGHT_PATH: "/data/clou785/models/dinov3_vith16plus_pretrain_lvd1689m-7c1da9a5.pth"
    ADAPTER_WEIGHTS: "/data/clou785/models/DinoAdapter_Stoat_day_night_mixed_precision.pth.tar25"
    ADAPTER_RATIO: 0.4

SOLVER:
  MARGIN: 0.3

TEST:

  VISUALIZE:
    ENABLED: False
    NUM_QUERIES: 122
    TOPK: 5
    SAME_DOMAIN_ONLY: True
    OUTPUT_SUBDIR: "rank_visualizations"
